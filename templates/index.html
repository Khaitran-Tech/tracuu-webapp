<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <title>Tra c·ª©u s·∫£n ph·∫©m</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!-- Bootstrap -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">

    <!-- Google Font: Poppins -->
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&display=swap" rel="stylesheet">

    <!-- CSS Animation -->
    <style>
        body {
            background-color: #2823bc;
            font-family: 'Poppins', sans-serif;
        }

        .fade-slide-up {
            opacity: 0;
            transform: translateY(20px);
            animation: fadeSlideUp 1s ease-out forwards;
        }

        .fade-slide-up.delay-1 { animation-delay: 0.3s; }
        .fade-slide-up.delay-2 { animation-delay: 0.6s; }

        @keyframes fadeSlideUp {
            to { opacity: 1; transform: translateY(0); }
        }

        img.thumbnail {
            max-width: 100px;
            max-height: 100px;
            object-fit: contain;
            border: 1px solid #ccc;
            background: #fff;
            padding: 4px;
            border-radius: 4px;
        }
    </style>
</head>

<body>
<div class="container mt-4">

    <!-- LOGO & ANIMATION -->
    <div class="text-center mb-4">
        <img src="{{ url_for('static', filename='images/logo_tech_team.png') }}" style="max-width: 180px;">
        <h5 class="text-light mt-2 fade-slide-up delay-1">Mecsu Technical Team</h5>
        <h6 class="text-light fade-slide-up delay-2">Ch√†o M·∫•y N√Ω Nha</h6>
    </div>

    <!-- FORM NH·∫¨P M√É -->
    <div class="card shadow">
        <div class="card-body bg-dark text-light">
            <h3 class="text-center mb-4">üîç Tra c·ª©u th√¥ng tin s·∫£n ph·∫©m</h3>
            <form method="POST">
                <label class="form-label">Nh·∫≠p m√£ s·∫£n ph·∫©m (ph√¢n c√°ch b·∫±ng d·∫•u ph·∫©y ho·∫∑c xu·ªëng d√≤ng):</label>
                <textarea name="ma_san_pham" class="form-control mb-3" rows="4" required></textarea>
                <div class="text-center">
                    <button class="btn btn-primary px-5">Tra c·ª©u</button>
                </div>
            </form>
        </div>
    </div>

    <!-- B·∫¢NG K·∫æT QU·∫¢ -->
    {% if ket_qua %}
    <div class="card shadow mt-4">
        <div class="card-body bg-white">
            <h4 class="mb-3">üìã K·∫øt qu·∫£ tra c·ª©u</h4>
            <table class="table table-bordered align-middle text-center">
                <thead class="table-dark">
                    <tr>
                        <th>M√£ s·∫£n ph·∫©m</th>
                        <th>T√™n s·∫£n ph·∫©m</th>
                        <th>T·ªìn kho</th>
                        <th>Gi√°</th>
                        <th>·∫¢nh s·∫£n ph·∫©m</th>
                        <th>·∫¢nh b·∫£n v·∫Ω</th>
                    </tr>
                </thead>
                <tbody>
                    {% for sp in ket_qua %}
                    <tr>
                        <td class="text-start">{{ sp.ma }}</td>
                        <td class="text-start">{{ sp.ten }}</td>
                        <td>{{ sp.ton_kho }}</td>
                        <td class="text-end">{{ sp.gia }}</td>
                        <td>{% if sp.anh_sp %}<img src="{{ sp.anh_sp }}" class="thumbnail">{% else %}-{% endif %}</td>
                        <td>{% if sp.anh_bv %}<img src="{{ sp.anh_bv }}" class="thumbnail">{% else %}-{% endif %}</td>
                    </tr>
                    {% endfor %}
                </tbody>
            </table>
        </div>
    </div>
    {% endif %}

</div>

<!-- üîº N√öT CU·ªòN L√äN -->
<button id="scrollTopBtn" title="L√™n ƒë·∫ßu trang" class="btn btn-primary"
        style="position: fixed; bottom: 20px; right: 20px; display: none; z-index: 999;">
    ‚Üë
</button>

<script>
    const scrollBtn = document.getElementById("scrollTopBtn");

    window.onscroll = function() {
        scrollBtn.style.display = (document.body.scrollTop > 200 || document.documentElement.scrollTop > 200)
            ? "block" : "none";
    };

    scrollBtn.onclick = function() {
        window.scrollTo({ top: 0, behavior: "smooth" });
    };
</script>

</body>
</html>
